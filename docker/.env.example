# ============================================
# Web 服务器配置
# ============================================

# 是否自动启动 Web 服务器托管 output 目录 (true/false)
# 启用后可通过 http://localhost:{WEBSERVER_PORT} 访问生成的报告
# 手动控制：docker exec -it trendradar python manage.py start_webserver
ENABLE_WEBSERVER=true

# Web 服务器端口（默认 8080，可自定义避免冲突）
# 注意：修改后需要重启容器生效
WEBSERVER_PORT=8080

# ============================================
# 通知渠道配置（多账号用 ; 分隔）
# ============================================

# 飞书机器人 webhook URL（多账号用 ; 分隔）
FEISHU_WEBHOOK_URL=
# Telegram Bot Token（多账号用 ; 分隔，需与 chat_id 数量一致）
TELEGRAM_BOT_TOKEN=
# Telegram Chat ID（多账号用 ; 分隔，需与 bot_token 数量一致）
TELEGRAM_CHAT_ID=
# 钉钉机器人 webhook URL（多账号用 ; 分隔）
DINGTALK_WEBHOOK_URL=
# 企业微信机器人 webhook URL（多账号用 ; 分隔）
WEWORK_WEBHOOK_URL=
# 企业微信消息类型（markdown 或 text）
WEWORK_MSG_TYPE=

# 邮件配置（邮箱已支持多收件人，逗号分隔）
EMAIL_FROM=
EMAIL_PASSWORD=
EMAIL_TO=
EMAIL_SMTP_SERVER=
EMAIL_SMTP_PORT=

# ntfy 推送配置（多账号用 ; 分隔，topic 和 token 数量需一致）
# ntfy 服务器地址（可改为自托管）
NTFY_SERVER_URL=https://ntfy.sh
# ntfy主题名称（多账号用 ; 分隔）
NTFY_TOPIC=
# 可选：访问令牌(用于私有主题，多账号用 ; 分隔，无令牌的留空占位如 ";token2")
NTFY_TOKEN=

# Bark 推送配置（多账号用 ; 分隔）
BARK_URL=

# Slack 推送配置（多账号用 ; 分隔）
SLACK_WEBHOOK_URL=

# 通用 Webhook 配置（多账号用 ; 分隔）
# 支持 Discord、Matrix、IFTTT 等任意支持 Webhook 的平台
GENERIC_WEBHOOK_URL=
# JSON 模板，支持 {title} 和 {content} 占位符
# 示例：{"content": "{content}"}
GENERIC_WEBHOOK_TEMPLATE=

# ============================================
# AI 配置（ai_analysis 和 ai_translation 共享模型配置）
# ============================================

# 是否启用 AI 分析 (true/false)
AI_ANALYSIS_ENABLED=false
# AI API Key（必填，启用 AI 功能时需要）
AI_API_KEY=
# 模型名称（LiteLLM 格式: provider/model_name）
# 示例: deepseek/deepseek-chat, openai/gpt-4o, gemini/gemini-2.5-flash
AI_MODEL=openai/Pro/deepseek-ai/DeepSeek-V3.2
# 自定义 API 端点（可选，大多数情况留空）
AI_API_BASE=

# ============================================
# 远程存储配置（S3 兼容协议，支持 R2/OSS/COS/S3 等）
# ============================================

S3_ENDPOINT_URL=
S3_BUCKET_NAME=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_REGION=

# ============================================
# 运行配置
# ============================================

# 定时任务表达式（默认每 30 分钟执行一次）
CRON_SCHEDULE=*/30 * * * *
# 运行模式：cron/once/daemon
# - cron: 定时任务模式（默认）
# - once: 单次执行
# - daemon: 爬虫守护进程模式（10秒轮询，即时推送）
RUN_MODE=cron
# 启动时立即执行一次
IMMEDIATE_RUN=true

# ============================================
# 爬虫守护进程配置（RUN_MODE=daemon 时生效）
# ============================================

# 轮询间隔（秒），默认 10
CRAWLER_POLL_INTERVAL=10
# 禁用推送通知（仅记录不推送）
CRAWLER_NO_PUSH=false
# 详细输出
CRAWLER_VERBOSE=false
# 启用 AI 分析（Phase 2 增强推送）
CRAWLER_ENABLE_AI=false
# 使用 CrewAI 分析器（默认使用 SimpleAnalyzer）
CRAWLER_USE_CREWAI=false
